<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            text-align: center;
        }

        button {
            margin: 5px;
            width: 50px;
            height: 50px;
        }

        .number_0 {
            width: 115px;
        }

        .plus_sign,.minus_sign,.times_sign,.division_sign,.equal_sign {
        	background-color: orange;
        }

        .negative_or_positive,.percentage_sign,.clear {
        	background-color: lightslategray;
        }
    </style>
    <title>计算器</title>
</head>
<body>
    <p id="show_progress_h1"></p>
    <button onclick="clear_all()" id="C" class="clear">C</button>
    <button onclick="negative_number()" id="+/-" class="negative_or_positive">+/-</button>
    <button onclick="percentage()" id="%" class="percentage_sign">%</button>
    <button onclick="add_to_list(this.id)" id="/" class="division_sign">/</button>
    <br>
    <button onclick="add_to_list(this.id)" id="1">1</button>
    <button onclick="add_to_list(this.id)" id="2">2</button>
    <button onclick="add_to_list(this.id)" id="3">3</button>
    <button onclick="add_to_list(this.id)" id="+" class="plus_sign">+</button>
    <br>
    <button onclick="add_to_list(this.id)" id="4">4</button>
    <button onclick="add_to_list(this.id)" id="5">5</button>
    <button onclick="add_to_list(this.id)" id="6">6</button>
    <button onclick="add_to_list(this.id)" id="-" class="minus_sign">-</button>
    <br>
    <button onclick="add_to_list(this.id)" id="7">7</button>
    <button onclick="add_to_list(this.id)" id="8">8</button>
    <button onclick="add_to_list(this.id)" id="9">9</button>
    <button onclick="add_to_list(this.id)" id="*" class="times_sign">*</button>
    <br>
    <button onclick="add_to_list(this.id)" class="number_0" id="0">0</button>
    <button onclick="add_to_list(this.id)" id=".">.</button>
    <button onclick="calculate()" id="=" class="equal_sign">=</button>
</body>
<script>
    var show_progress = [];
    var current_number = "";

    function add_to_list(number_id) {
        if (number_id.match(/[0-9.]/)) {
            // If the button is a digit or a decimal point, add it to the current number
            current_number += number_id;
        } else {
            // If the button is an operator or equals, push the current number and operator to the list
            if (current_number !== "") {
                show_progress.push(parseFloat(current_number));
                current_number = "";
            }
            show_progress.push(number_id);
        }
        show_progress_h1.innerHTML = show_progress.join(" ");
    }

    function clear_all() {
        show_progress.length = 0;
        current_number = "";
        show_progress_h1.innerHTML = "";
    }

    function negative_number() {
        if (current_number !== "") {
            current_number = (-parseFloat(current_number)).toString();
            show_progress_h1.innerHTML = show_progress.join(" ") + " " + current_number;
        }
    }

    function percentage() {
    	if (current_number !== "") {
    		current_number = (parseFloat(current_number) / 100.).toString();
    		show_progress_h1.innerHTML = show_progress.join(" ") + " " + current_number;
    	}
    }

    function calculate() {
        if (current_number !== "") {
            show_progress.push(parseFloat(current_number));
            current_number = "";
        }
        const show_progress_length = show_progress.length;
        let result = show_progress[0];
        for (let i = 1; i < show_progress_length; i += 2) {
            const operator = show_progress[i];
            const operand = show_progress[i + 1];
            if (operator === "+") {
                result += operand;
            } else if (operator === "-") {
                result -= operand;
            } else if (operator === "*") {
                result *= operand;
            } else if (operator === "/") {
                result /= operand;
            }
        }
        show_progress_h1.innerHTML = result;
    }
</script>
</html>